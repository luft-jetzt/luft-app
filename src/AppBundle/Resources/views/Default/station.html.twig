{% extends 'AppBundle::layout.html.twig' %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-xs-12 text-xs-center">
                <h3>
                    Messstation {{ station.stationCode }}
                </h3>
            </div>
        </div>

        <div class="row mt-2 mb-2">
            <div class="col-xs-12">
                <div id="map" style="height: 33.33vh;"></div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 text-xs-center">
                An der Station {{ station.stationCode }} ({{ station.title }}) wurden zuletzt die folgenden Werte gemessen:
            </div>
        </div>

        <div class="row mt-2">
            <div class="col-xs-12">
                {% for box in boxList %}
                    {% include 'AppBundle:Default:_box.html.twig' with { 'box': box, 'showStationTitle': false } %}
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script>
        var centerLatLng = L.latLng([{{ station.latitude }}, {{ station.longitude }}]);

        var map = L.map('map').setView(centerLatLng, 13);

        L.tileLayer('https://api.mapbox.com/styles/v1/maltehuebner/ciz8okvlo001f2spm3bbya1kd/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFsdGVodWVibmVyIiwiYSI6IjB5c2QtNXcifQ.I7OHZr0wtAvqE0wIY_psfg', {
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>'
        }).addTo(map);

        var marker = L.marker(centerLatLng).addTo(map);
    </script>
{% endblock %}
